# ç®¡ç†å‘˜è´¦å·ç®¡ç†å·¥å…·

æœ¬ç›®å½•åŒ…å«äº†ç”¨äºç®¡ç†ç³»ç»Ÿç®¡ç†å‘˜è´¦å·çš„Pythonå·¥å…·ã€‚

## ğŸ› ï¸ å·¥å…·æ–‡ä»¶

### 1. `admin_manager.py` - å®Œæ•´ç®¡ç†å·¥å…·
åŠŸèƒ½ä¸°å¯Œçš„ç®¡ç†å‘˜è´¦å·ç®¡ç†å·¥å…·ï¼Œæ”¯æŒäº¤äº’å¼æ“ä½œå’Œå‘½ä»¤è¡Œå‚æ•°ã€‚

### 2. `create_default_admin.py` - å¿«é€Ÿåˆ›å»ºé»˜è®¤ç®¡ç†å‘˜
ç”¨äºç³»ç»Ÿåˆå§‹åŒ–æ—¶å¿«é€Ÿåˆ›å»ºé»˜è®¤ç®¡ç†å‘˜è´¦å·ã€‚

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### å¿«é€Ÿåˆ›å»ºé»˜è®¤ç®¡ç†å‘˜ (æ¨èç”¨äºåˆå§‹åŒ–)

```bash
# åˆ›å»ºé»˜è®¤ç®¡ç†å‘˜ (ç”¨æˆ·å: admin, å¯†ç : admin123)
python3 create_default_admin.py
```

### å®Œæ•´ç®¡ç†å·¥å…·

#### äº¤äº’å¼æ¨¡å¼ (æ¨è)
```bash
# å¯åŠ¨äº¤äº’å¼ç®¡ç†ç•Œé¢
python3 admin_manager.py
```

#### å‘½ä»¤è¡Œæ¨¡å¼
```bash
# åˆ›å»ºæ–°ç®¡ç†å‘˜
python3 admin_manager.py --create newadmin --password mypassword --full-name "æ–°ç®¡ç†å‘˜" --email "admin@example.com"

# ä¿®æ”¹ç®¡ç†å‘˜å¯†ç 
python3 admin_manager.py --update-password admin

# åˆ—å‡ºæ‰€æœ‰ç®¡ç†å‘˜
python3 admin_manager.py --list

# éªŒè¯ç®¡ç†å‘˜å¯†ç 
python3 admin_manager.py --verify admin
```

## ğŸ”§ åŠŸèƒ½è¯´æ˜

### admin_manager.py åŠŸèƒ½åˆ—è¡¨

1. **ğŸ“ åˆ›å»ºæ–°ç®¡ç†å‘˜**
   - è®¾ç½®ç”¨æˆ·åã€å¯†ç 
   - å¯é€‰è®¾ç½®å…¨åã€é‚®ç®±
   - è‡ªåŠ¨æ£€æŸ¥ç”¨æˆ·åé‡å¤

2. **ğŸ”‘ ä¿®æ”¹ç®¡ç†å‘˜å¯†ç **
   - å®‰å…¨çš„å¯†ç è¾“å…¥ (éšè—æ˜¾ç¤º)
   - å¯†ç ç¡®è®¤æœºåˆ¶

3. **âœï¸ ä¿®æ”¹ç®¡ç†å‘˜ä¿¡æ¯**
   - æ›´æ–°å…¨å
   - æ›´æ–°é‚®ç®±åœ°å€

4. **ğŸ‘¥ æŸ¥çœ‹æ‰€æœ‰ç®¡ç†å‘˜**
   - æ˜¾ç¤ºç®¡ç†å‘˜åˆ—è¡¨
   - åŒ…å«çŠ¶æ€ã€åˆ›å»ºæ—¶é—´ã€æœ€åç™»å½•ç­‰ä¿¡æ¯

5. **ğŸ”„ åˆ‡æ¢ç®¡ç†å‘˜çŠ¶æ€**
   - å¯ç”¨/ç¦ç”¨ç®¡ç†å‘˜è´¦å·

6. **ğŸ” éªŒè¯ç®¡ç†å‘˜å¯†ç **
   - æµ‹è¯•å¯†ç æ˜¯å¦æ­£ç¡®

### create_default_admin.py åŠŸèƒ½

- åˆ›å»ºé»˜è®¤ç®¡ç†å‘˜è´¦å· (admin/admin123)
- å¦‚æœå·²å­˜åœ¨ï¼Œå¯é€‰æ‹©é‡ç½®å¯†ç 
- é€‚åˆç³»ç»Ÿåˆå§‹åŒ–ä½¿ç”¨

## ğŸ“‹ é»˜è®¤ç®¡ç†å‘˜ä¿¡æ¯

ä½¿ç”¨ `create_default_admin.py` åˆ›å»ºçš„é»˜è®¤ç®¡ç†å‘˜ï¼š

- **ç”¨æˆ·å**: `admin`
- **å¯†ç **: `admin123`
- **å…¨å**: `ç³»ç»Ÿç®¡ç†å‘˜`
- **é‚®ç®±**: `admin@example.com`

âš ï¸ **å®‰å…¨æç¤º**: è¯·åœ¨ç”Ÿäº§ç¯å¢ƒä¸­åŠæ—¶ä¿®æ”¹é»˜è®¤å¯†ç ï¼

## âš¡ å¿«é€Ÿå¼€å§‹

1. **é¦–æ¬¡éƒ¨ç½²ç³»ç»Ÿæ—¶**:
   ```bash
   python3 create_default_admin.py
   ```

2. **æ—¥å¸¸ç®¡ç†ç»´æŠ¤æ—¶**:
   ```bash
   python3 admin_manager.py
   ```

3. **æ‰¹é‡æ“ä½œæ—¶**:
   ```bash
   # ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°è¿›è¡Œæ‰¹é‡æ“ä½œ
   python3 admin_manager.py --create user1 --password pass1
   python3 admin_manager.py --create user2 --password pass2
   ```

## ğŸ”’ å®‰å…¨æ³¨æ„äº‹é¡¹

1. **å¯†ç å®‰å…¨**:
   - ä½¿ç”¨å¼ºå¯†ç 
   - å®šæœŸæ›´æ¢å¯†ç 
   - ä¸è¦åœ¨å‘½ä»¤è¡Œä¸­ç›´æ¥è¾“å…¥å¯†ç 

2. **è´¦å·ç®¡ç†**:
   - åŠæ—¶ç¦ç”¨ä¸å†ä½¿ç”¨çš„è´¦å·
   - å®šæœŸå®¡æŸ¥ç®¡ç†å‘˜åˆ—è¡¨
   - ä¸ºæ¯ä¸ªç®¡ç†å‘˜è®¾ç½®ä¸åŒçš„è´¦å·

3. **è®¿é—®æ§åˆ¶**:
   - é™åˆ¶å¯¹è¿™äº›å·¥å…·çš„è®¿é—®æƒé™
   - åœ¨ç”Ÿäº§ç¯å¢ƒä¸­è°¨æ…ä½¿ç”¨

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **å¯¼å…¥é”™è¯¯**:
   ```
   ImportError: No module named 'api'
   ```
   **è§£å†³**: ç¡®ä¿åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œè„šæœ¬

2. **æ•°æ®åº“è¿æ¥å¤±è´¥**:
   ```
   æ•°æ®åº“è¿æ¥å¤±è´¥: ...
   ```
   **è§£å†³**: æ£€æŸ¥æ•°æ®åº“é…ç½®æ–‡ä»¶ `config/settings.ini`

3. **æƒé™é”™è¯¯**:
   ```
   Permission denied
   ```
   **è§£å†³**: ç¡®ä¿æ•°æ®åº“ç”¨æˆ·æœ‰è¶³å¤Ÿæƒé™

### è°ƒè¯•æ­¥éª¤

1. æ£€æŸ¥æ•°æ®åº“è¿æ¥:
   ```bash
   python3 debug_database.py
   ```

2. éªŒè¯ç®¡ç†å‘˜è¡¨ç»“æ„:
   ```bash
   python3 -c "from api.models.models import Admin; print('Admin model loaded successfully')"
   ```

3. æ£€æŸ¥ä¾èµ–åŒ…:
   ```bash
   pip list | grep -E "fastapi|sqlalchemy|passlib"
   ```

## ğŸ“ è·å–å¸®åŠ©

å¦‚éœ€å¸®åŠ©ï¼Œè¯·æŸ¥çœ‹ï¼š
- å·¥å…·çš„ `--help` å‚æ•°
- é¡¹ç›®ä¸»READMEæ–‡æ¡£
- ç›¸å…³APIæ–‡æ¡£
